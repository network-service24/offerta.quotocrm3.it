window.COOKIES_ENABLER=window.COOKIES_ENABLER||function(){"use strict";var defaults={scriptClass:"ce-script",iframeClass:"ce-iframe",acceptClass:"ce-accept",disableClass:"ce-disable",dismissClass:"ce-dismiss",bannerClass:"ce-banner",bannerHTML:null!==document.getElementById("ce-banner-html")?document.getElementById("ce-banner-html").innerHTML:'<p>Questo sito usa i cookies <a href="#" class="ce-accept">Abilita Cookies</a></p>',eventScroll:!1,scrollOffset:200,clickOutside:!1,cookieName:"ce-cookie",cookieDuration:"365",wildcardDomain:!1,iframesPlaceholder:!0,iframesPlaceholderHTML:null!==document.getElementById("ce-iframePlaceholder-html")?document.getElementById("ce-iframePlaceholder-html").innerHTML:'<p>Per visualizzare questo contenuto Ã¨ neccesario <a href="#" class="ce-accept">Abilitari i Cookies</a></p>',iframesPlaceholderClass:"ce-iframe-placeholder",onEnable:"",onDismiss:"",onDisable:""},opts,domElmts,start_Y;function _extend(){var i,key;for(i=1;i<arguments.length;i++)for(key in arguments[i])arguments[i].hasOwnProperty(key)&&(arguments[0][key]=arguments[i][key]);return arguments[0]}function _debounce(func,wait,immediate){var timeout;return function(){var context=this,args=arguments,later=function(){timeout=null,immediate||func.apply(context,args)},callNow=immediate&&!timeout;clearTimeout(timeout),timeout=setTimeout(later,wait),callNow&&func.apply(context,args)}}function _getClosestParentWithClass(el,parentClass){do{if(_hasClass(el,parentClass))return el}while(el=el.parentNode);return null}function _hasClass(el,cls){return(" "+el.className+" ").indexOf(" "+cls+" ")>-1}var handleScroll=function(){Math.abs(window.pageYOffset-start_Y)>opts.scrollOffset&&enableCookies()},bindUI=function(){var i,accept=(domElmts={accept:document.getElementsByClassName(opts.acceptClass),disable:document.getElementsByClassName(opts.disableClass),banner:document.getElementsByClassName(opts.bannerClass),dismiss:document.getElementsByClassName(opts.dismissClass)}).accept,accept_l=accept.length,disable=domElmts.disable,disable_l=disable.length,dismiss=domElmts.dismiss,dismiss_l=dismiss.length;for(opts.eventScroll&&window.addEventListener("load",(function(){start_Y=window.pageYOffset,window.addEventListener("scroll",handleScroll)})),opts.clickOutside&&document.addEventListener("click",(function(e){var element=e.target;if(_getClosestParentWithClass(element,opts.iframesPlaceholderClass)||_getClosestParentWithClass(element,opts.disableClass)||_getClosestParentWithClass(element,opts.bannerClass)||_getClosestParentWithClass(element,opts.dismissClass)||_getClosestParentWithClass(element,opts.disableClass))return!1;enableCookies()})),i=0;i<accept_l;i++)accept[i].addEventListener("click",(function(ev){ev.preventDefault(),enableCookies(ev)}));for(i=0;i<disable_l;i++)disable[i].addEventListener("click",(function(ev){ev.preventDefault(),disableCookies(ev)}));for(i=0;i<dismiss_l;i++)dismiss[i].addEventListener("click",(function(ev){ev.preventDefault(),banner.dismiss()}))},init=function(options){opts=_extend({},defaults,options),"Y"==cookie.get()?("function"==typeof opts.onEnable&&opts.onEnable(),scripts.get(),iframes.get()):"N"==cookie.get()?("function"==typeof opts.onDisable&&opts.onDisable(),iframes.hide(),bindUI()):(banner.create(),iframes.hide(),bindUI())},enableCookies=_debounce((function(event){void 0!==event&&"click"===event.type&&event.preventDefault(),"Y"!=cookie.get()&&(cookie.set(),scripts.get(),iframes.get(),iframes.removePlaceholders(),banner.dismiss(),window.removeEventListener("scroll",handleScroll),"function"==typeof opts.onEnable&&opts.onEnable())}),250,!1),disableCookies=function(event){void 0!==event&&"click"===event.type&&event.preventDefault(),"N"!=cookie.get()&&(cookie.set("N"),banner.dismiss(),window.removeEventListener("scroll",handleScroll),"function"==typeof opts.onDisable&&opts.onDisable())},banner=function(){function create(){var el='<div class="'+opts.bannerClass+'">'+opts.bannerHTML+"</div>";document.body.insertAdjacentHTML("beforeend",el)}function dismiss(){domElmts.banner[0].style.display="none","function"==typeof opts.onDismiss&&opts.onDismiss()}return{create:create,dismiss:dismiss}}(),cookie=function(){function set(val){var value=void 0!==val?val:"Y",date,expires,host,domainParts,domain;opts.cookieDuration?((date=new Date).setTime(date.getTime()+24*opts.cookieDuration*60*60*1e3),expires="; expires="+date.toGMTString()):expires="",1!==(host=location.hostname).split(".")&&opts.wildcardDomain?((domainParts=host.split(".")).shift(),domain="."+domainParts.join("."),document.cookie=opts.cookieName+"="+value+expires+"; path=/; domain="+domain,null==cookie.get()&&(domain="."+host,document.cookie=opts.cookieName+"="+value+expires+"; path=/; domain="+domain)):document.cookie=opts.cookieName+"="+value+expires+"; path=/"}function get(){var cookies=document.cookie.split(";"),l=cookies.length,i,x,y;for(i=0;i<l;i++)if(x=cookies[i].substr(0,cookies[i].indexOf("=")),y=cookies[i].substr(cookies[i].indexOf("=")+1),(x=x.replace(/^\s+|\s+$/g,""))==opts.cookieName)return unescape(y)}return{set:set,get:get}}(),iframes=function(){function makePlaceholder(iframe){var placeholderElement=document.createElement("div");placeholderElement.className=opts.iframesPlaceholderClass,placeholderElement.innerHTML=opts.iframesPlaceholderHTML,iframe.parentNode.insertBefore(placeholderElement,iframe)}function removePlaceholders(){var iframePlaceholders=document.getElementsByClassName(opts.iframesPlaceholderClass),n,i;for(i=iframePlaceholders.length-1;i>=0;i--)iframePlaceholders[i].parentNode.removeChild(iframePlaceholders[i])}function hide(){var iframes=document.getElementsByClassName(opts.iframeClass),n=iframes.length,src,iframe,i;for(i=0;i<n;i++)(iframe=iframes[i]).style.display="none",opts.iframesPlaceholder&&makePlaceholder(iframe)}function get(){var iframes=document.getElementsByClassName(opts.iframeClass),n=iframes.length,src,iframe,i;for(i=0;i<n;i++)src=(iframe=iframes[i]).attributes["data-ce-src"].value,iframe.src=src,iframe.style.display="block"}return{hide:hide,get:get,removePlaceholders:removePlaceholders}}(),scripts=function(){function get(){var scripts=document.getElementsByClassName(opts.scriptClass),n=scripts.length,documentFragment=document.createDocumentFragment(),i,y,s,attrib,el;for(i=0;i<n;i++)if(scripts[i].hasAttribute("data-ce-src"))"undefined"!=typeof postscribe&&postscribe(scripts[i].parentNode,'<script src="'+scripts[i].getAttribute("data-ce-src")+'"><\/script>');else{for((s=document.createElement("script")).type="text/javascript",y=0;y<scripts[i].attributes.length;y++)(attrib=scripts[i].attributes[y]).specified&&"type"!=attrib.name&&"class"!=attrib.name&&s.setAttribute(attrib.name,attrib.value);s.innerHTML=scripts[i].innerHTML,documentFragment.appendChild(s)}document.body.appendChild(documentFragment)}return{get:get}}();return{init:init,enableCookies:enableCookies,dismissBanner:banner.dismiss}}(),$(document).ready((function(){$(".ce-banner").append('<div class="xclose"><i class="fa fa-times-circle"></i></div>'),$(".ce-banner").append('<div class="ce-banner-sfondo"></div>'),$(".xclose, .ce-banner-sfondo").click((function(){$(".ce-banner").addClass("close")})),$(".chiudibannercookie").css("cursor","pointer"),$(".chiudibannercookie").click((function(){$(".ce-banner").removeClass("close")}))}));